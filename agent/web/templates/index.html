{% extends "base.html" %}

{% block title %}ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - {{ super() }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h2">
                <i class="fas fa-tachometer-alt me-2 text-primary"></i>
                ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
            </h1>
            <div class="badge bg-success fs-6">
                <i class="fas fa-check-circle me-1"></i>
                ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒä¸­
            </div>
        </div>
    </div>
</div>

<!-- Quick Stats -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center">
                <div class="text-primary mb-2">
                    <i class="fas fa-university fa-2x"></i>
                </div>
                <h3 class="card-title text-primary">3</h3>
                <p class="card-text text-muted">å¯¾è±¡éŠ€è¡Œ</p>
                <small class="text-muted">ã¿ãšã»ãƒ»MUFGãƒ»SMBC</small>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center">
                <div class="text-success mb-2">
                    <i class="fas fa-exchange-alt fa-2x"></i>
                </div>
                <h3 class="card-title text-success">6</h3>
                <p class="card-text text-muted">æ”¯åº—æ•°</p>
                <small class="text-muted">å„éŠ€è¡Œ2æ”¯åº—</small>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center">
                <div class="text-warning mb-2">
                    <i class="fas fa-clock fa-2x"></i>
                </div>
                <h3 class="card-title text-warning">30</h3>
                <p class="card-text text-muted">æ—¥é–“</p>
                <small class="text-muted">æœ€é©åŒ–ãƒ›ãƒ©ã‚¤ã‚ºãƒ³</small>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center">
                <div class="text-info mb-2">
                    <i class="fas fa-shield-alt fa-2x"></i>
                </div>
                <h3 class="card-title text-info">95%</h3>
                <p class="card-text text-muted">å®‰å…¨åœ¨åº«</p>
                <small class="text-muted">åˆ†ä½ç‚¹ãƒ¬ãƒ™ãƒ«</small>
            </div>
        </div>
    </div>
</div>

<!-- Workflow Steps -->
<div class="row mb-4">
    <div class="col-12">
        <h3 class="mb-3">
            <i class="fas fa-workflow me-2"></i>
            ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
        </h3>
        
        <div class="row">
            <div class="col-md-3 mb-3">
                <div class="card h-100 border-primary">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-upload me-2"></i>
                            ã‚¹ãƒ†ãƒƒãƒ— 1
                        </h5>
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h6>
                        <p class="card-text">4ã¤ã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</p>
                        <ul class="list-unstyled small">
                            <li>â€¢ bank_master.csv</li>
                            <li>â€¢ fee_table.csv</li>
                            <li>â€¢ balance_snapshot.csv</li>
                            <li>â€¢ cashflow_history.csv</li>
                        </ul>
                        <a href="{{ url_for('upload_files') }}" class="btn btn-primary btn-sm">
                            <i class="fas fa-arrow-right me-1"></i>é–‹å§‹
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-3">
                <div class="card h-100 border-success">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-cogs me-2"></i>
                            ã‚¹ãƒ†ãƒƒãƒ— 2
                        </h5>
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">æœ€é©åŒ–å®Ÿè¡Œ</h6>
                        <p class="card-text">ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šã¨æœ€é©åŒ–å®Ÿè¡Œ</p>
                        <ul class="list-unstyled small">
                            <li>â€¢ ãƒ›ãƒ©ã‚¤ã‚ºãƒ³æœŸé–“</li>
                            <li>â€¢ å®‰å…¨åœ¨åº«åˆ†ä½ç‚¹</li>
                            <li>â€¢ ãƒšãƒŠãƒ«ãƒ†ã‚£é‡ã¿</li>
                            <li>â€¢ Cut-offåˆ¶ç´„</li>
                        </ul>
                        <a href="{{ url_for('optimize_page') }}" class="btn btn-success btn-sm">
                            <i class="fas fa-arrow-right me-1"></i>è¨­å®š
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-3">
                <div class="card h-100 border-info">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-chart-line me-2"></i>
                            ã‚¹ãƒ†ãƒƒãƒ— 3
                        </h5>
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">çµæœç¢ºèª</h6>
                        <p class="card-text">æœ€é©åŒ–çµæœã®è¡¨ç¤ºãƒ»åˆ†æ</p>
                        <ul class="list-unstyled small">
                            <li>â€¢ è³‡é‡‘ç§»å‹•è¨ˆç”»</li>
                            <li>â€¢ ã‚³ã‚¹ãƒˆæ¯”è¼ƒ</li>
                            <li>â€¢ å®Ÿè¡Œæ™‚é–“</li>
                            <li>â€¢ å®‰å…¨åœ¨åº«çŠ¶æ³</li>
                        </ul>
                        <a href="{{ url_for('results_page') }}" class="btn btn-info btn-sm">
                            <i class="fas fa-arrow-right me-1"></i>ç¢ºèª
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-3">
                <div class="card h-100 border-warning">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-download me-2"></i>
                            ã‚¹ãƒ†ãƒƒãƒ— 4
                        </h5>
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2">ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h6>
                        <p class="card-text">çµæœãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</p>
                        <ul class="list-unstyled small">
                            <li>â€¢ transfer_plan.csv</li>
                            <li>â€¢ cost_comparison.png</li>
                            <li>â€¢ KPI ãƒ­ã‚°</li>
                        </ul>
                        <button class="btn btn-warning btn-sm" disabled>
                            <i class="fas fa-arrow-right me-1"></i>DLå¾…æ©Ÿ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- System Status -->
<div class="row">
    <div class="col-md-8">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-info-circle me-2 text-info"></i>
                    ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>æ©Ÿèƒ½è¦ä»¶</h6>
                        <ul class="list-unstyled">
                            <li>âœ… CSV ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰</li>
                            <li>âœ… Safety Stockè¨ˆç®—</li>
                            <li>âœ… MILPæœ€é©åŒ–ã‚¨ãƒ³ã‚¸ãƒ³</li>
                            <li>âœ… æ‰‹æ•°æ–™è¨ˆç®—</li>
                            <li>âœ… Cut-offæ™‚åˆ»åˆ¶ç´„</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>æ€§èƒ½è¦ä»¶</h6>
                        <ul class="list-unstyled">
                            <li>âš¡ 1,000è¡Œ < 30ç§’</li>
                            <li>ğŸ›¡ï¸ æŒ¯è¾¼ä¸èƒ½ 0ä»¶</li>
                            <li>ğŸ’° ã‚³ã‚¹ãƒˆå‰Šæ¸› >10%</li>
                            <li>ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–</li>
                            <li>ğŸ” KPIè‡ªå‹•ãƒ­ã‚°</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-rocket me-2 text-success"></i>
                    ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
                </h5>
            </div>
            <div class="card-body">
                <p class="text-muted">
                    ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§æœ€é©åŒ–ã‚’è©¦ã™ã«ã¯ï¼š
                </p>
                <div class="d-grid gap-2">
                    <a href="{{ url_for('upload_files') }}" class="btn btn-primary">
                        <i class="fas fa-play me-2"></i>
                        ä»Šã™ãé–‹å§‹
                    </a>
                    <a href="/interactive_notebook.ipynb" class="btn btn-outline-secondary">
                        <i class="fas fa-book me-2"></i>
                        Jupyter Notebook
                    </a>
                </div>
                
                <hr class="my-3">
                
                <h6 class="text-muted">ã‚µãƒãƒ¼ãƒˆ</h6>
                <div class="small">
                    <div class="mb-1">
                        <i class="fas fa-file-alt me-1"></i>
                        <a href="/docs/" class="text-decoration-none">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>
                    </div>
                    <div class="mb-1">
                        <i class="fas fa-bug me-1"></i>
                        <a href="#" class="text-decoration-none">ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ</a>
                    </div>
                    <div>
                        <i class="fas fa-question-circle me-1"></i>
                        <a href="#" class="text-decoration-none">ãƒ˜ãƒ«ãƒ—</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Update current time
    function updateTime() {
        const now = new Date();
        document.getElementById('current-time').textContent = 
            now.toLocaleString('ja-JP', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
    }
    
    updateTime();
    setInterval(updateTime, 1000);
});
</script>
{% endblock %}